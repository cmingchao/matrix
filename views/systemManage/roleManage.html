<!DOCTYPE html>
<html lang="en" ng-app="app">
<head>
    <meta charset="UTF-8">
    <title>角色管理</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../../lib/css/bootstrap.css">
    <link rel="stylesheet" href="../../lib/css/base.css">
    <link rel="stylesheet" href="../../lib/css/paging.css">
    <link rel="stylesheet" href="../../css/systemManage.css">
</head>
<body>
<div id="page" ng-controller="controllerList">
    <% include ../menu.html %>
    <div id="content">
        <% include ../header.html %>
        <div id="container">
            <% include ../map.html %>
            <a id="addBrand" class="btn-normal" href="/html/roleManageSecond">添加</a>
            <div class="row row-3">
                <div class="col-xs-12">
                    <div class="canvas-item list">
                        <table cellpadding="0" cellspacing="0">
                            <thead>
                            <tr>
                                <th>序号</th>
                                <th>角色名称</th>
                                <th>角色编码</th>
                                <th>操作</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="item in list">
                                <td ng-bind="(pageIndex-1)*10+$index+1"></td>
                                <td ng-bind="item.role_name || '无'"></td>
                                <td ng-bind="item.role_code || '无'"></td>
                                <td style="color:#337ab7">
                                    <a href="/html/roleManageSecond?role_id={{item.id}}" style="color: inherit">编辑</a>
                                    <a href="#" style="color:inherit" data-toggle="modal"
                                       data-target="#myModal" ng-click="distributeResource(item)">分配资源</a>
                                    <a href="javascript:;" style="color:inherit" ng-click="doDelete(item)">删除</a>
                                </td>
                            </tr>
                            <tr ng-show="!list.length"><td colspan="3">暂无数据!</td></tr>
                            </tbody>
                        </table>
                        <div class="box" id="box"></div>
                    </div>
                </div>
            </div>
            <% include ../footer.html %>
        </div>
    </div>
    <!--模态框-->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">分配资源</h4>
                </div>
                <div class="modal-body">
                    <p style="margin-bottom: 10px">角色名 : <span ng-bind="userName || '无'"></span></p>
                    <div class="canvas-item list">
                        <p style="color: #666;text-align: center;margin-bottom: 15px">资源列表</p>
                        <table cellpadding="0" cellspacing="0">
                            <thead>
                            <tr>
                                <th>序号</th>
                                <th>资源名称</th>
                                <th>资源编码</th>
                                <th>资源路径</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="item in resourceList">
                                <td style="display: flex;align-items: center">
                                    <input name="checkbox" type="checkBox" style="margin: 0 3px 0 0;
		                                    width: 16px;height: 16px" ng-model="item.state" ng-disabled="item.disabled" ng-change="selectCheckBox()">
                                    <span ng-bind="(pageIndex-1)*10+$index+1"></span>
                                </td>
                                <td ng-bind="item.auth_name || '无'"></td>
                                <td ng-bind="item.auth_code || '无'"></td>
                                <td ng-bind="item.auth_url || '无'"></td>
                            </tr>
                            <tr ng-show="!resourceList.length">
                                <td colspan="3">暂无数据!</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer" style="margin-top:20px;">
                    <button type="button" class="btn btn-primary" ng-click="mySubmit()">确定</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="myCancel()">取消</button>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../../lib/js/jquery-1.9.1.js"></script>
<script src="../../lib/js/bootstrap.js"></script>
<script src="../../lib/js/angular1.2.3.js"></script>
<script src="../../lib/js/base.js"></script>
<script src="../../lib/js/paging.js"></script>
<script src="../../js/roleManage.js"></script>
</body>
</html>